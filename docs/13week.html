

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Week 13 - day in the life of ETa &mdash; AWS PANGEO Jupyter Onboarding FALL Semester 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> AWS PANGEO Jupyter Onboarding FALL Semester
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="01project_charter.html">PANGEO ONBOARDING CLASS CHARTER</a><ul>
<li class="toctree-l2"><a class="reference internal" href="01project_charter.html#mission">MISSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="01project_charter.html#goals">GOALS</a></li>
<li class="toctree-l2"><a class="reference internal" href="01project_charter.html#roles">Roles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#school-headmaster">School Headmaster</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#class-schedule">Class Schedule</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="01project_charter.html#prior-art">Prior Art</a><ul>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#science-focused-detailed-training">Science Focused Detailed Training</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="01project_charter.html#jupyter-for-everything">Jupyter For Everything</a><ul>
<li class="toctree-l2"><a class="reference internal" href="01project_charter.html#technology-musts">Technology Musts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#these-have-been-selected-with-prejudice-from-over-40-years-of-playing-with-tech">These have been selected with prejudice from over 40 years of playing with tech!</a><ul>
<li class="toctree-l4"><a class="reference internal" href="01project_charter.html#key-technologies-that-allow-scaling">Key Technologies that Allow Scaling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#xarray">Xarray</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#visualization-python-libraries">Visualization Python Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#et-case-introduction">ET Case Introduction:</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#general-project-statement">General Project Statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#concept">Concept</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#scope">Scope:</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#success-criteria">Success Criteria:</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#business-case-the-big-why">Business Case;  The BIG WHY!</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#population-growth-and-better-resource-management">Population Growth and Better Resource Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#simplifying-science-by-simplifying-data-access-and-exploitation">Simplifying Science by Simplifying Data Access and Exploitation</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#et-scientists-have-a-willingness-to-exploit-cloud-platforms">ET Scientists have a willingness to Exploit Cloud Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#key-calendar-event-watch">Key Calendar Event Watch</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#code-packaging-and-evaluation-et-example">Code Packaging and Evaluation ET example</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#jupyter-hub-infrastructure-mini-pangeo-construction">Jupyter Hub Infrastructure mini-pangeo construction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="01project_charter.html#et-staff-contact-list">ET Staff Contact List</a><ul>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#tony-butzer-open-data-cube-cloud-engineer">Tony Butzer - Open Data Cube Cloud Engineer</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#major-requirements-for-mini-pangeos">Major Requirements for mini-pangeos</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#deliverables">Deliverables:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="01project_charter.html#cloud-examples-from-github-treasure-chest">Cloud Examples from github - treasure chest</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#budget">Budget:</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#constraints-and-assumptions">Constraints and Assumptions:</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#stakeholders">Stakeholders</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#summary-of-risks">Summary of Risks:</a></li>
<li class="toctree-l3"><a class="reference internal" href="01project_charter.html#communication-plan">Communication plan:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AWS PANGEO Jupyter Onboarding FALL Semester</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Week 13 - day in the life of ETa</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/13week.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="week-13-day-in-the-life-of-eta">
<h1>Week 13 - day in the life of ETa<a class="headerlink" href="#week-13-day-in-the-life-of-eta" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subtitle-don-t-tell-my-boss">
<h2>subtitle - Don’t Tell My Boss<a class="headerlink" href="#subtitle-don-t-tell-my-boss" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="real-world-scene">
<h2>Real World Scene<a class="headerlink" href="#real-world-scene" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>My boss - says I have to get Tmin, Tmax and Tavg - done for 150 years - converted to Celsius</p>
<ul>
<li><p>from that useless Kelvin data i gave her - she is not happy</p></li>
<li><p>she says I have until COB Friday or look for another job</p></li>
<li><p>The problem is it looks like golfing weather for Monday and Tuesday</p></li>
<li><p>So I think use the cloud and docker - maybe this can be done</p></li>
<li><p>I spend a day figuring out the sophisticated algebra and try to play that up - But she is on to me.</p></li>
<li><p>docker - container from jupyter to orchestration in 2 easy steps</p></li>
</ul>
</li>
</ul>
<div class="section" id="run-the-orchestration">
<h3>run the orchestration<a class="headerlink" href="#run-the-orchestration" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>two system engineers walk into a bar</p>
</div></blockquote>
<ul class="simple">
<li><p>… the first one asks why can’t we do that simple Kelvin conversion by friday on our current platform</p></li>
<li><p>… the second eng says cause x and y suck</p></li>
<li><p>… the next day the 2nd eng is explaining this converstion to his Govt Sponsor as:</p>
<ul>
<li><p>well you see the Netapp is bandwidth constrained and not really intended for large image data xfers and Microsoft has chosen Linux as its highly scalable platform for its Azure Cloud.</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="community-interest">
<h2>Community Interest<a class="headerlink" href="#community-interest" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Looking at Pangeo and Docker on HPC</p>
<ul>
<li><p>Could support nice hybrid solutions between the cloud and HPC(s) Denali, Tallgrass</p></li>
<li><p>need to examine Singularity and Shifter on the HPC</p></li>
<li><p>I may call my orchestration method - manual_transmission :-)</p></li>
</ul>
</li>
<li><p>Tony prefers scaling with docker versus other methods - Why:</p>
<ul>
<li><p>MPI – Message Passing Interface¶</p>
<ul>
<li><p>Distributed Memory Systems</p></li>
<li><p>More difficult to parallelize</p></li>
<li><p>Requires a change in fundamental programming</p></li>
</ul>
</li>
<li><p>Kubernetes is well over 1 MILLION lines of code</p></li>
<li><p>Slurm - the s stands for simple - is over 500,000 lines of code</p></li>
<li><p>Simple Orchestration -  129 lines of code</p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ubuntu@ip-10-12-69-188:/opt/kelvin_celsius/api$ wc -l kelvin_*.py
129 kelvin_orchestration.py
</pre></div>
</div>
</div>
<div class="section" id="community-case-studies">
<h2>Community Case Studies<a class="headerlink" href="#community-case-studies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>VegET in the cloud</p>
<ul>
<li><p>Cloud Scaling</p></li>
<li><p>Model validation without ARC tools</p></li>
<li><p>Simple Visualizations</p></li>
<li><p>Pathfinder project for other cloud enthusiasts</p></li>
</ul>
</li>
<li><p>ETa pipeline from SSEBoP (Google Earth Engine)</p>
<ul>
<li><p>Pushing data into a Dark Repo</p>
<ul>
<li><p>Web Interface for endusers</p></li>
<li><p>Many data users just want direct access to COGs</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="day-in-the-life-of-the-low-budget-et-project">
<h2>Day in the Life of the low budget ET project<a class="headerlink" href="#day-in-the-life-of-the-low-budget-et-project" title="Permalink to this headline">¶</a></h2>
</div>
<hr class="docutils" />
<div class="section" id="id1">
<h2><img alt="_images/VegET-DRB-Rouze.PNG" src="_images/VegET-DRB-Rouze.PNG" /><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Port the VegET model from Windows and Netapp  - to cloud, xarray and S3 data storage</p></li>
<li><p>Run the model on small AOIs</p></li>
<li><p>Scale the Model by slicing the problem spatially</p>
<ul class="simple">
<li><p>glue the parts together with simple xarray code and multiple docker containers for scaling</p></li>
</ul>
</li>
<li><p>Wrangle and Wrangle Data for Delaware, Conus, NorthAmerica, Globe</p>
<ul class="simple">
<li><p>Also just to make it more challenging - add projected or future model data for temperature and precip</p></li>
<li><p>do this with as few people as possible with tight deadlines</p></li>
</ul>
</li>
<li><p>Run the model for 150 years over Delaware</p>
<ul class="simple">
<li><p>Notice some data model issues over 2000-2020</p></li>
<li><p>Visually apparent with jupyter-python-panel-app.ipynb</p></li>
</ul>
</li>
<li><p>Run DRB again for 70 years times 2 with different soil intercept values.</p></li>
<li><p>Hire a <code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">Integrity</span> <span class="pre">Analyst</span></code> Olena</p>
<ul class="simple">
<li><p>Write a simple pandas model simulator</p>
<ul>
<li><p>replaces old windows manual excel spreadsheet methods</p></li>
</ul>
</li>
<li><p>Discovered Kelvin and Celsius Confusion</p></li>
<li><p><img alt="https://www.nasa.gov/sites/default/files/styles/side_image/public/thumbnails/image/1979_hst_primary_mirror.jpg?itok=UJ4wDauY" src="https://www.nasa.gov/sites/default/files/styles/side_image/public/thumbnails/image/1979_hst_primary_mirror.jpg?itok=UJ4wDauY" /></p></li>
</ul>
</li>
<li><p>Wrote a very simple Kelvin–&gt;Celsius Conversion Python Notebook –&gt; Python App with Argparse API</p>
<ul class="simple">
<li><p>Run this in class today 1950 –&gt; 2099</p>
<ul>
<li><p>Notebook prototype/bread-board</p>
<ul>
<li><p>Slicing in python and xarray - time-series</p></li>
<li><p>simple docker image</p></li>
<li><p>basic orchestration 101</p></li>
<li><p>functional programming like <code class="docutils literal notranslate"><span class="pre">ds</span> <span class="pre">=</span> <span class="pre">ds</span> <span class="pre">-</span> <span class="pre">273.15</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Convert to pure Python - Olena and add argparse to replace hardcoded values</p>
<ul class="simple">
<li><p>jupyter nbconvert –to script  my_ugly_notebook.ipynb</p></li>
</ul>
</li>
<li><p>Create an orchestration python wrapper - borrow an old one and customize this</p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Thomas Teigen

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>